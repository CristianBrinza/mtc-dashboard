import React, { useEffect, useState } from "react";
import styles from "./Menu.module.css";
import Icon, {icons} from "../Icon"; // Ensure the correct path to your Icon component

interface MenuItem {
    name: string;
    link: string;
    icon?: keyof typeof icons; // Optional, since not every item will have an icon
}

interface MenuProps {
    menu: MenuItem[];
    active?: string;
}

const Menu: React.FC<MenuProps> = ({ active }) => {
    const [menu, setMenu] = useState<MenuItem[]>([]);

    useEffect(() => {
        fetch("/json/menu.json")
            .then((response) => response.json())
            .then((data) => setMenu(data))
            .catch((error) => console.error("Error loading menu:", error));
    }, []);

    return (
        <div className={styles.menu}>
            <div className={styles.menu_left}>

                <svg style={{marginRight:'10px'}} width="189" height="44" viewBox="0 0 189 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M24.368 15L21.7428 24.5406L21.5999 25.1956L21.4768 24.5406L18.8319 15H15.2461L14 28.21H16.512L17.172 18.236L17.2262 17.3839L17.438 18.236L20.2849 28.1213H22.9003L25.7127 18.2508L25.9245 17.379L25.9786 18.2508L26.6731 28.21H29.1851L27.9734 15H24.373H24.368Z"
                        fill="#212A55"/>
                    <path
                        d="M21.4705 43.4611C19.101 43.4611 16.7246 43.0627 14.4169 42.266C3.24233 38.3855 -2.69177 26.1396 1.18875 14.965C3.06376 9.5529 6.94428 5.19162 12.0954 2.69847C17.2534 0.198456 23.0708 -0.144949 28.4829 1.73693C39.6574 5.61745 45.5915 17.8634 41.711 29.0379C39.836 34.4501 35.9555 38.8113 30.8043 41.3045C27.8441 42.7399 24.6642 43.4611 21.4636 43.4611H21.4705ZM21.443 8.83175C19.4856 8.83175 17.535 9.27818 15.7149 10.1573C12.5556 11.6889 10.1792 14.3606 9.02534 17.6848C6.64895 24.5393 10.2891 32.0462 17.1367 34.4295C20.454 35.5833 24.0254 35.3704 27.1848 33.8388C30.3442 32.3072 32.7206 29.6355 33.8744 26.3113C36.2508 19.4568 32.6107 11.9499 25.7631 9.56665C24.3482 9.07901 22.8922 8.83175 21.4361 8.83175H21.443Z"
                        fill="#C767A4"/>
                    <path
                        d="M15.7768 42.4924C15.3235 42.4924 14.8633 42.4169 14.4169 42.2589C3.24233 38.3784 -2.69177 26.1324 1.18875 14.9579C2.75469 10.4455 5.68741 6.68174 9.67095 4.06497C11.5872 2.80809 14.1559 3.34382 15.4127 5.25317C16.6696 7.16939 16.1339 9.73808 14.2246 10.995C11.7863 12.5952 9.98689 14.9098 9.02534 17.6708C6.64895 24.5253 10.2891 32.0391 17.1367 34.4154C19.3001 35.1641 20.4471 37.5267 19.6916 39.6971C19.0941 41.4141 17.4869 42.4856 15.7699 42.4856L15.7768 42.4924Z"
                        fill="url(#paint0_linear_8510_3158)"/>
                    <path
                        d="M21.4213 43.4399C19.0793 43.4399 16.7166 43.0553 14.4158 42.2586C10.4528 40.885 7.005 38.4056 4.45691 35.0882C3.06267 33.275 3.39921 30.6651 5.21927 29.2709C7.03247 27.8766 9.64238 28.2132 11.0366 30.0264C12.5957 32.0525 14.7042 33.5703 17.1356 34.4151C22.7194 36.352 28.9488 34.3121 32.2868 29.4495C33.5848 27.5607 36.1673 27.0799 38.056 28.378C39.9448 29.6761 40.4256 32.2585 39.1275 34.1473C35.0546 40.0745 28.3513 43.4399 21.4213 43.4399Z"
                        fill="url(#paint1_linear_8510_3158)"/>
                    <path
                        d="M37.9894 21.0497C36.2174 21.0497 34.5759 19.9027 34.0264 18.1239C32.797 14.1335 29.7063 10.9329 25.764 9.56614C23.6005 8.81751 22.4535 6.45486 23.209 4.28451C23.9577 2.12104 26.3203 0.97405 28.4907 1.72955C34.9124 3.96171 39.9468 9.17465 41.9592 15.6788C42.6322 17.8698 41.4097 20.1912 39.2188 20.8643C38.8135 20.9879 38.4015 21.0497 37.9962 21.0497H37.9894Z"
                        fill="url(#paint2_linear_8510_3158)"/>
                    <path
                        d="M32.6652 39.3263C31.4907 39.3263 30.3231 38.8318 29.499 37.8634C28.0154 36.1189 28.2283 33.5021 29.9729 32.0186C31.3465 30.8578 32.4385 29.443 33.2352 27.8358C33.9564 26.3729 35.4262 25.5213 36.9578 25.5213H36.9853C35.5979 24.8688 34.6226 23.4608 34.602 21.8262C34.5814 20.1847 34.2517 18.5844 33.6336 17.0528C32.7682 14.9305 33.7916 12.5129 35.9138 11.6475C38.0361 10.789 40.4537 11.8055 41.3191 13.9278C42.3287 16.4141 42.8644 19.0308 42.8988 21.7094C42.9331 23.9965 41.0993 25.8853 38.8122 25.9127C38.7847 25.9127 38.7504 25.9127 38.7229 25.9127C38.7504 25.9265 38.771 25.9334 38.7985 25.9471C40.8521 26.9567 41.6968 29.443 40.6872 31.5034C39.3891 34.1408 37.5965 36.4417 35.3506 38.3441C34.5677 39.0035 33.613 39.3332 32.6652 39.3332V39.3263Z"
                        fill="url(#paint3_linear_8510_3158)"/>
                    <path fillRule="evenodd" clipRule="evenodd"
                          d="M3.79948 31.1332C4.53437 28.9766 6.89016 27.8434 9.0605 28.6058C11.2308 29.3681 12.3847 31.7376 11.6498 33.9011C10.9149 36.0577 8.55912 37.191 6.38878 36.4286C4.21844 35.6662 3.06458 33.2967 3.79948 31.1332Z"
                          fill="url(#paint4_linear_8510_3158)"/>
                    <path fillRule="evenodd" clipRule="evenodd"
                          d="M21.237 37.5541C21.9719 35.3975 24.3277 34.2643 26.498 35.0267C28.6684 35.789 29.8222 38.1585 29.0873 40.322C28.3524 42.4786 25.9966 43.6119 23.8263 42.8495C21.6559 42.0871 20.5021 39.7176 21.237 37.5541Z"
                          fill="url(#paint5_linear_8510_3158)"/>
                    <path fillRule="evenodd" clipRule="evenodd"
                          d="M12.7917 37.2524C13.5266 35.0958 15.8823 33.9625 18.0527 34.7249C20.223 35.4873 21.3769 37.8568 20.642 40.0203C19.9071 42.1769 17.5513 43.3101 15.381 42.5477C13.2106 41.7854 12.0568 39.4159 12.7917 37.2524Z"
                          fill="url(#paint6_linear_8510_3158)"/>
                    <path fillRule="evenodd" clipRule="evenodd"
                          d="M34.8307 20.4526C35.5656 18.296 37.9214 17.1627 40.0918 17.9251C42.2621 18.6875 43.416 21.057 42.6811 23.2205C41.9462 25.3771 39.5904 26.5103 37.42 25.748C35.2497 24.9856 34.0958 22.6161 34.8307 20.4526Z"
                          fill="url(#paint7_linear_8510_3158)"/>
                    <path
                        d="M59.1103 27.8545L58.6374 25.7355H56.1211L55.667 27.8545H53.1697L56.1211 15.2353H58.732L61.759 27.8545H59.1103ZM58.259 23.7868C58.0698 22.9039 57.8932 22.0273 57.7292 21.157C57.5653 20.2867 57.4328 19.3975 57.3319 18.4894C57.2689 19.3849 57.1553 20.2741 56.9914 21.157C56.84 22.0273 56.676 22.9039 56.4995 23.7868H58.259ZM64.7097 15.2353C65.1764 15.2353 65.6116 15.2605 66.0152 15.311C66.4188 15.3488 66.835 15.4686 67.2638 15.6704C67.8314 15.9227 68.2981 16.2695 68.6639 16.711C69.0423 17.1524 69.3387 17.6443 69.5531 18.1867C69.7801 18.7164 69.9378 19.2777 70.0261 19.8705C70.1144 20.4633 70.1585 21.0435 70.1585 21.6111C70.1585 22.4562 70.0702 23.2571 69.8936 24.0139C69.7171 24.7706 69.427 25.4328 69.0233 26.0004C68.6323 26.568 68.1089 27.022 67.453 27.3626C66.8098 27.6905 66.0089 27.8545 65.0503 27.8545H62.6097V15.2353H64.7097ZM65.1827 25.5463C65.6746 25.5463 66.0782 25.4139 66.3936 25.149C66.7215 24.8842 66.9801 24.5562 67.1692 24.1652C67.3584 23.7616 67.4846 23.3328 67.5476 22.8787C67.6233 22.412 67.6611 21.9832 67.6611 21.5922C67.6611 21.2769 67.6422 20.9489 67.6044 20.6084C67.5666 20.2552 67.4972 19.9147 67.3963 19.5867C67.2954 19.2462 67.1629 18.9309 66.999 18.6408C66.835 18.3381 66.6269 18.0858 66.3746 17.884C66.1728 17.7074 65.971 17.5939 65.7692 17.5434C65.58 17.493 65.3593 17.4615 65.107 17.4488V25.5463H65.1827ZM79.9262 27.8545L79.3019 18.7732C79.2766 19.2651 79.2262 19.757 79.1505 20.2489C79.0875 20.7282 79.0118 21.2075 78.9235 21.6868L77.8072 27.8545H75.8964L74.7234 22.1408C74.6603 21.8255 74.5973 21.5165 74.5342 21.2138C74.4711 20.8985 74.427 20.5768 74.4018 20.2489L74.2504 18.7732L73.8531 27.8545H71.1855L72.2828 15.2353H75.5748L76.8045 22.6895L77.8072 15.2353H81.1749L82.4803 27.8545H79.9262ZM83.7003 27.8545V15.2353H86.1977V27.8545H83.7003ZM93.45 27.8545L90.3472 20.2489C90.3977 20.4886 90.4292 20.7282 90.4418 20.9678C90.4671 21.2075 90.4797 21.4471 90.4797 21.6868V27.8545H87.9823V15.2353H90.3472L93.45 22.8598C93.3869 22.5697 93.3365 22.2859 93.2987 22.0084C93.2734 21.7309 93.2608 21.4471 93.2608 21.157V15.2353H95.796V27.8545H93.45ZM104.348 32.5843V13.665H106.712V32.5843H104.348ZM123.558 27.8545L122.934 18.7732C122.909 19.2651 122.858 19.757 122.783 20.2489C122.719 20.7282 122.644 21.2075 122.556 21.6868L121.439 27.8545H119.528L118.355 22.1408C118.292 21.8255 118.229 21.5165 118.166 21.2138C118.103 20.8985 118.059 20.5768 118.034 20.2489L117.882 18.7732L117.485 27.8545H114.817L115.915 15.2353H119.207L120.437 22.6895L121.439 15.2353H124.807L126.112 27.8545H123.558ZM132.346 27.8545L131.873 25.7355H129.357L128.903 27.8545H126.405L129.357 15.2353H131.968L134.995 27.8545H132.346ZM131.495 23.7868C131.305 22.9039 131.129 22.0273 130.965 21.157C130.801 20.2867 130.668 19.3975 130.568 18.4894C130.505 19.3849 130.391 20.2741 130.227 21.157C130.076 22.0273 129.912 22.9039 129.735 23.7868H131.495ZM140.556 27.8545L138.343 22.0462V27.8545H135.845V15.2353H138.551C139.017 15.2353 139.49 15.2731 139.97 15.3488C140.449 15.4119 140.89 15.5758 141.294 15.8407C141.799 16.1686 142.171 16.6164 142.41 17.184C142.663 17.7389 142.789 18.3128 142.789 18.9056C142.789 19.6246 142.644 20.2489 142.354 20.7787C142.063 21.2958 141.609 21.7435 140.991 22.1219L143.186 27.8545H140.556ZM138.343 20.6651C138.406 20.6777 138.475 20.6841 138.551 20.6841C138.626 20.6841 138.696 20.6841 138.759 20.6841C139.301 20.6841 139.705 20.5201 139.97 20.1922C140.235 19.8642 140.367 19.4417 140.367 18.9246C140.367 18.4074 140.247 17.9912 140.008 17.6759C139.768 17.3606 139.371 17.2029 138.816 17.2029H138.343V20.6651ZM149.423 27.8545L147.096 21.4408V27.8545H144.598V15.2353H147.096V20.8732L149.196 15.2353H151.75L149.423 21.0624L152.034 27.8545H149.423ZM152.964 27.8545V15.2353H157.977V17.5813H155.461V20.3057H157.675V22.6895H155.461V25.5274H158.015V27.8545H152.964ZM163.368 17.5434V27.8545H160.871V17.5434H158.922V15.2353H165.336V17.5434H163.368ZM166.128 27.8545V15.2353H168.625V27.8545H166.128ZM175.878 27.8545L172.775 20.2489C172.825 20.4886 172.857 20.7282 172.87 20.9678C172.895 21.2075 172.907 21.4471 172.907 21.6868V27.8545H170.41V15.2353H172.775L175.878 22.8598C175.815 22.5697 175.764 22.2859 175.726 22.0084C175.701 21.7309 175.689 21.4471 175.689 21.157V15.2353H178.224V27.8545H175.878ZM188.225 20.8354C188.237 20.9994 188.244 21.1633 188.244 21.3273C188.244 21.4787 188.244 21.6363 188.244 21.8003C188.244 22.2417 188.231 22.6895 188.206 23.1436C188.18 23.585 188.117 24.0265 188.016 24.4679C187.916 24.9598 187.758 25.4265 187.543 25.868C187.329 26.2968 187.064 26.6752 186.749 27.0031C186.434 27.3311 186.061 27.5896 185.633 27.7788C185.204 27.968 184.725 28.0626 184.195 28.0626C183.35 28.0626 182.637 27.8608 182.057 27.4572C181.489 27.041 181.029 26.5175 180.676 25.8869C180.323 25.2436 180.07 24.5436 179.919 23.7868C179.78 23.0174 179.711 22.2859 179.711 21.5922C179.711 20.8732 179.774 20.1291 179.9 19.3597C180.039 18.5777 180.278 17.8714 180.619 17.2407C180.96 16.5975 181.42 16.074 182 15.6704C182.58 15.2542 183.312 15.0461 184.195 15.0461C185.166 15.0461 185.961 15.3236 186.579 15.8785C187.197 16.4209 187.638 17.1398 187.903 18.0353L185.481 18.9813C185.456 18.7921 185.418 18.5966 185.368 18.3948C185.317 18.193 185.248 18.0101 185.16 17.8462C185.071 17.6696 184.952 17.5245 184.8 17.411C184.649 17.2975 184.453 17.2407 184.214 17.2407C183.936 17.2407 183.697 17.3227 183.495 17.4867C183.293 17.638 183.123 17.8398 182.984 18.0921C182.845 18.3444 182.732 18.6345 182.643 18.9624C182.568 19.2777 182.511 19.593 182.473 19.9084C182.435 20.2237 182.41 20.5264 182.397 20.8165C182.385 21.1066 182.379 21.3525 182.379 21.5543C182.379 21.8697 182.391 22.267 182.416 22.7463C182.442 23.2256 182.511 23.6922 182.624 24.1463C182.751 24.6004 182.933 24.9914 183.173 25.3193C183.425 25.6346 183.779 25.7923 184.233 25.7923C184.573 25.7923 184.844 25.6977 185.046 25.5085C185.248 25.3193 185.399 25.086 185.5 24.8085C185.601 24.531 185.67 24.2346 185.708 23.9193C185.746 23.6039 185.765 23.3202 185.765 23.0679H184.176V20.8354H188.225Z"
                        fill="white"/>
                    <defs>
                        <linearGradient id="paint0_linear_8510_3158" x1="3.39343" y1="34.8413" x2="23.0364" y2="11.4277"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#1AAD9E"/>
                            <stop offset="0.01" stopColor="#20AE9A"/>
                            <stop offset="0.12" stopColor="#57BD7A"/>
                            <stop offset="0.23" stopColor="#85C960"/>
                            <stop offset="0.33" stopColor="#A9D34B"/>
                            <stop offset="0.42" stopColor="#C3DA3C"/>
                            <stop offset="0.51" stopColor="#D2DE34"/>
                            <stop offset="0.58" stopColor="#D8E031"/>
                        </linearGradient>
                        <linearGradient id="paint1_linear_8510_3158" x1="3.59838" y1="35.5484" x2="39.8555" y2="35.5484"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#C767A4"/>
                            <stop offset="0.13" stopColor="#BF6AA4"/>
                            <stop offset="0.81" stopColor="#1AAD9E"/>
                        </linearGradient>
                        <linearGradient id="paint2_linear_8510_3158" x1="32.5566" y1="21.0497" x2="32.5566" y2="1.49603"
                                        gradientUnits="userSpaceOnUse">
                            <stop offset="0.18" stopColor="#D7E033"/>
                            <stop offset="1" stopColor="#DD5871"/>
                        </linearGradient>
                        <linearGradient id="paint3_linear_8510_3158" x1="25.3987" y1="31.1394" x2="44.7463" y2="19.5185"
                                        gradientUnits="userSpaceOnUse">
                            <stop offset="0.08" stopColor="#78C144"/>
                            <stop offset="0.65" stopColor="#1AAD9E"/>
                        </linearGradient>
                        <linearGradient id="paint4_linear_8510_3158" x1="4.1841" y1="34.6429" x2="11.2583" y2="30.3983"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#78C144"/>
                            <stop offset="1" stopColor="#DD5871"/>
                        </linearGradient>
                        <linearGradient id="paint5_linear_8510_3158" x1="21.6285" y1="41.0569" x2="28.6958" y2="36.8124"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#D8E033"/>
                            <stop offset="0.85" stopColor="#1AAD9E"/>
                        </linearGradient>
                        <linearGradient id="paint6_linear_8510_3158" x1="13.1832" y1="40.762" x2="20.2574" y2="36.5106"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#D8E033"/>
                            <stop offset="1" stopColor="#C767A4"/>
                        </linearGradient>
                        <linearGradient id="paint7_linear_8510_3158" x1="35.2222" y1="23.9622" x2="42.2964" y2="19.7177"
                                        gradientUnits="userSpaceOnUse">
                            <stop stopColor="#D8E033"/>
                            <stop offset="1" stopColor="#1AAD9E"/>
                        </linearGradient>
                    </defs>
                </svg>


                {/* Render Menu Items */}
                {menu.map((item, index) => (
                    <a href={item.link} key={index}
                       className={`${styles.menuItem} ${active===item.name ? styles.menu_active : ""}`}>
                        {item.icon && <Icon  type={item.icon}
                                             color={active===item.name ? "#212A55" : "#FFF"}
                                             className={styles.menuIcon}/>}


                        {item.name}

                    </a>
                ))}
            </div>
            <div className={styles.menu_right}>
                <a href=""
                   className={styles.menu_rightItem}>
                    <Icon type="more_options"
                          color="#FFF"
                    />
                </a>
                <a href=""
                   className={styles.menu_rightItem}>
                    <Icon type="ro"
                          color="#FFF"
                    />
                </a>
                <a href=""
                   className={styles.menu_rightItem}>
                    <Icon type="profile"
                          color="#FFF"
                    />
                </a>
            </div>
        </div>
    );
};

export default Menu;
